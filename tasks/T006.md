# T006: Shared UI Components

## Overview

**Task ID**: T006
**Phase**: 2 - Core Components
**Priority**: High
**Dependencies**: T001, T003
**Estimated Complexity**: High

## Objective

Create a library of reusable UI components that will be used across multiple pages. This includes buttons, cards, typography components, section wrappers, badges, tags, and image components.

---

## Prerequisites

Before starting this task:
1. Read `CLAUDE.md` for agent rules
2. Check `EXECUTION.md` - Ensure T001 and T003 are `completed`
3. Mark this task as `in_progress` in `EXECUTION.md`
4. Read `SHARED_NOTES.md` for any relevant notes

---

## File Ownership

```
CREATE:
- src/components/Common/Button/index.tsx
- src/components/Common/Button/styles.ts
- src/components/Common/Button/Button.test.tsx
- src/components/Common/Card/index.tsx
- src/components/Common/Card/styles.ts
- src/components/Common/Card/Card.test.tsx
- src/components/Common/Section/index.tsx
- src/components/Common/Section/styles.ts
- src/components/Common/Section/Section.test.tsx
- src/components/Common/Typography/index.tsx
- src/components/Common/Typography/styles.ts
- src/components/Common/Typography/Typography.test.tsx
- src/components/Common/Badge/index.tsx
- src/components/Common/Badge/styles.ts
- src/components/Common/Badge/Badge.test.tsx
- src/components/Common/Tag/index.tsx
- src/components/Common/Tag/styles.ts
- src/components/Common/Tag/Tag.test.tsx
- src/components/Common/OptimizedImage/index.tsx
- src/components/Common/OptimizedImage/OptimizedImage.test.tsx
- src/components/Common/index.ts (barrel export)
```

---

## Detailed Requirements

### 1. Button Component

Multiple variants: primary, secondary, outline, ghost
Multiple sizes: sm, md, lg
Support for icons, loading state, disabled state

#### `src/components/Common/Button/index.tsx`
```typescript
'use client';

import React from 'react';
import Link from 'next/link';
import { motion } from 'framer-motion';
import { tapScale } from '@/styles';
import { StyledButton, ButtonContent, LoadingSpinner } from './styles';

export interface ButtonProps {
  children: React.ReactNode;
  variant?: 'primary' | 'secondary' | 'outline' | 'ghost';
  size?: 'sm' | 'md' | 'lg';
  href?: string;
  disabled?: boolean;
  loading?: boolean;
  fullWidth?: boolean;
  leftIcon?: React.ReactNode;
  rightIcon?: React.ReactNode;
  onClick?: (e: React.MouseEvent<HTMLButtonElement>) => void;
  type?: 'button' | 'submit' | 'reset';
  className?: string;
  'aria-label'?: string;
}

const Button: React.FC<ButtonProps> = ({
  children,
  variant = 'primary',
  size = 'md',
  href,
  disabled = false,
  loading = false,
  fullWidth = false,
  leftIcon,
  rightIcon,
  onClick,
  type = 'button',
  className,
  'aria-label': ariaLabel,
}) => {
  const isDisabled = disabled || loading;

  const buttonContent = (
    <ButtonContent $loading={loading}>
      {loading && <LoadingSpinner data-testid="loading-spinner" />}
      {leftIcon && <span className="icon-left">{leftIcon}</span>}
      <span>{children}</span>
      {rightIcon && <span className="icon-right">{rightIcon}</span>}
    </ButtonContent>
  );

  const motionProps = !isDisabled
    ? {
        as: motion.button,
        whileTap: tapScale,
      }
    : {};

  if (href && !isDisabled) {
    return (
      <StyledButton
        as={Link}
        href={href}
        $variant={variant}
        $size={size}
        $fullWidth={fullWidth}
        $disabled={false}
        className={className}
        aria-label={ariaLabel}
        data-testid="button"
      >
        {buttonContent}
      </StyledButton>
    );
  }

  return (
    <StyledButton
      type={type}
      onClick={onClick}
      disabled={isDisabled}
      $variant={variant}
      $size={size}
      $fullWidth={fullWidth}
      $disabled={isDisabled}
      className={className}
      aria-label={ariaLabel}
      aria-busy={loading}
      data-testid="button"
      {...motionProps}
    >
      {buttonContent}
    </StyledButton>
  );
};

export default Button;
```

#### `src/components/Common/Button/styles.ts`
```typescript
import styled, { css, keyframes } from 'styled-components';
import { buttonReset } from '@/styles';

interface StyledButtonProps {
  $variant: 'primary' | 'secondary' | 'outline' | 'ghost';
  $size: 'sm' | 'md' | 'lg';
  $fullWidth: boolean;
  $disabled: boolean;
}

const spin = keyframes`
  to { transform: rotate(360deg); }
`;

const sizeStyles = {
  sm: css`
    padding: ${({ theme }) => `${theme.spacing[2]} ${theme.spacing[4]}`};
    font-size: ${({ theme }) => theme.fontSizes.sm};
    min-height: 36px;
  `,
  md: css`
    padding: ${({ theme }) => `${theme.spacing[3]} ${theme.spacing[6]}`};
    font-size: ${({ theme }) => theme.fontSizes.base};
    min-height: 44px;
  `,
  lg: css`
    padding: ${({ theme }) => `${theme.spacing[4]} ${theme.spacing[8]}`};
    font-size: ${({ theme }) => theme.fontSizes.md};
    min-height: 52px;
  `,
};

const variantStyles = {
  primary: css`
    background-color: ${({ theme }) => theme.colors.primary};
    color: ${({ theme }) => theme.colors.background};

    &:hover:not(:disabled) {
      background-color: ${({ theme }) => theme.colors.primaryHover};
      box-shadow: ${({ theme }) => theme.shadows.glow};
    }
  `,
  secondary: css`
    background-color: ${({ theme }) => theme.colors.backgroundLight};
    color: ${({ theme }) => theme.colors.white};

    &:hover:not(:disabled) {
      background-color: ${({ theme }) => theme.colors.darkGray};
    }
  `,
  outline: css`
    background-color: transparent;
    color: ${({ theme }) => theme.colors.primary};
    border: 2px solid ${({ theme }) => theme.colors.primary};

    &:hover:not(:disabled) {
      background-color: ${({ theme }) => theme.colors.primary};
      color: ${({ theme }) => theme.colors.background};
    }
  `,
  ghost: css`
    background-color: transparent;
    color: ${({ theme }) => theme.colors.white};

    &:hover:not(:disabled) {
      background-color: rgba(255, 255, 255, 0.1);
    }
  `,
};

export const StyledButton = styled.button<StyledButtonProps>`
  ${buttonReset}
  display: inline-flex;
  align-items: center;
  justify-content: center;
  font-weight: ${({ theme }) => theme.fontWeights.semibold};
  border-radius: ${({ theme }) => theme.borderRadius.full};
  transition: all ${({ theme }) => theme.transitions.fast};
  text-decoration: none;
  border: 2px solid transparent;

  ${({ $size }) => sizeStyles[$size]}
  ${({ $variant }) => variantStyles[$variant]}
  ${({ $fullWidth }) => $fullWidth && css`width: 100%;`}

  ${({ $disabled }) =>
    $disabled &&
    css`
      opacity: 0.6;
      cursor: not-allowed;
    `}

  &:focus-visible {
    outline: 2px solid ${({ theme }) => theme.colors.primary};
    outline-offset: 2px;
  }
`;

interface ButtonContentProps {
  $loading: boolean;
}

export const ButtonContent = styled.span<ButtonContentProps>`
  display: inline-flex;
  align-items: center;
  gap: ${({ theme }) => theme.spacing[2]};
  opacity: ${({ $loading }) => ($loading ? 0.7 : 1)};

  .icon-left,
  .icon-right {
    display: flex;
    align-items: center;
  }
`;

export const LoadingSpinner = styled.span`
  position: absolute;
  width: 18px;
  height: 18px;
  border: 2px solid transparent;
  border-top-color: currentColor;
  border-radius: 50%;
  animation: ${spin} 0.6s linear infinite;
`;
```

#### `src/components/Common/Button/Button.test.tsx`
```typescript
import React from 'react';
import { render, screen, fireEvent } from '@/__tests__/test-utils';
import Button from './index';

describe('Button', () => {
  it('should render button with text', () => {
    render(<Button>Click me</Button>);
    expect(screen.getByText('Click me')).toBeInTheDocument();
  });

  it('should handle click events', () => {
    const handleClick = jest.fn();
    render(<Button onClick={handleClick}>Click me</Button>);
    fireEvent.click(screen.getByTestId('button'));
    expect(handleClick).toHaveBeenCalledTimes(1);
  });

  it('should render as link when href is provided', () => {
    render(<Button href="/test">Link Button</Button>);
    const link = screen.getByTestId('button');
    expect(link).toHaveAttribute('href', '/test');
  });

  it('should show loading spinner when loading', () => {
    render(<Button loading>Loading</Button>);
    expect(screen.getByTestId('loading-spinner')).toBeInTheDocument();
  });

  it('should be disabled when disabled prop is true', () => {
    render(<Button disabled>Disabled</Button>);
    expect(screen.getByTestId('button')).toBeDisabled();
  });

  it('should be disabled when loading', () => {
    render(<Button loading>Loading</Button>);
    expect(screen.getByTestId('button')).toBeDisabled();
  });

  it('should apply variant styles', () => {
    const { rerender } = render(<Button variant="primary">Primary</Button>);
    expect(screen.getByTestId('button')).toBeInTheDocument();

    rerender(<Button variant="outline">Outline</Button>);
    expect(screen.getByTestId('button')).toBeInTheDocument();
  });

  it('should apply size styles', () => {
    const { rerender } = render(<Button size="sm">Small</Button>);
    expect(screen.getByTestId('button')).toBeInTheDocument();

    rerender(<Button size="lg">Large</Button>);
    expect(screen.getByTestId('button')).toBeInTheDocument();
  });

  it('should render with icons', () => {
    render(
      <Button leftIcon={<span data-testid="left-icon">←</span>}>
        With Icon
      </Button>
    );
    expect(screen.getByTestId('left-icon')).toBeInTheDocument();
  });
});
```

### 2. Card Component

#### `src/components/Common/Card/index.tsx`
```typescript
'use client';

import React from 'react';
import Link from 'next/link';
import { motion } from 'framer-motion';
import { hoverLift } from '@/styles';
import { CardWrapper, CardImage, CardContent, CardTitle, CardDescription, CardFooter } from './styles';

export interface CardProps {
  title: string;
  description?: string;
  image?: string;
  imageAlt?: string;
  href?: string;
  footer?: React.ReactNode;
  children?: React.ReactNode;
  variant?: 'default' | 'featured' | 'compact';
  onClick?: () => void;
}

const Card: React.FC<CardProps> = ({
  title,
  description,
  image,
  imageAlt,
  href,
  footer,
  children,
  variant = 'default',
  onClick,
}) => {
  const cardContent = (
    <>
      {image && (
        <CardImage $variant={variant}>
          <img src={image} alt={imageAlt || title} loading="lazy" />
        </CardImage>
      )}
      <CardContent $variant={variant}>
        <CardTitle $variant={variant}>{title}</CardTitle>
        {description && <CardDescription>{description}</CardDescription>}
        {children}
      </CardContent>
      {footer && <CardFooter>{footer}</CardFooter>}
    </>
  );

  if (href) {
    return (
      <CardWrapper
        as={motion(Link)}
        href={href}
        $variant={variant}
        $clickable
        whileHover={hoverLift}
        data-testid="card"
      >
        {cardContent}
      </CardWrapper>
    );
  }

  if (onClick) {
    return (
      <CardWrapper
        as={motion.div}
        $variant={variant}
        $clickable
        onClick={onClick}
        whileHover={hoverLift}
        role="button"
        tabIndex={0}
        data-testid="card"
      >
        {cardContent}
      </CardWrapper>
    );
  }

  return (
    <CardWrapper $variant={variant} $clickable={false} data-testid="card">
      {cardContent}
    </CardWrapper>
  );
};

export default Card;
```

#### `src/components/Common/Card/styles.ts`
```typescript
import styled, { css } from 'styled-components';
import { flexColumn } from '@/styles';

interface CardWrapperProps {
  $variant: 'default' | 'featured' | 'compact';
  $clickable: boolean;
}

export const CardWrapper = styled.div<CardWrapperProps>`
  ${flexColumn}
  background-color: ${({ theme }) => theme.colors.backgroundLight};
  border-radius: ${({ theme }) => theme.borderRadius.xl};
  overflow: hidden;
  transition: all ${({ theme }) => theme.transitions.normal};
  text-decoration: none;
  color: inherit;

  ${({ $clickable }) =>
    $clickable &&
    css`
      cursor: pointer;

      &:hover {
        box-shadow: ${({ theme }) => theme.shadows.lg};
      }
    `}

  ${({ $variant }) =>
    $variant === 'featured' &&
    css`
      border: 1px solid rgba(236, 255, 136, 0.2);
    `}

  ${({ $variant }) =>
    $variant === 'compact' &&
    css`
      flex-direction: row;
      align-items: center;
    `}
`;

interface CardImageProps {
  $variant: 'default' | 'featured' | 'compact';
}

export const CardImage = styled.div<CardImageProps>`
  position: relative;
  overflow: hidden;

  ${({ $variant }) =>
    $variant === 'compact'
      ? css`
          width: 120px;
          height: 120px;
          flex-shrink: 0;
        `
      : css`
          aspect-ratio: 16 / 9;
          width: 100%;
        `}

  img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform ${({ theme }) => theme.transitions.slow};
  }

  ${CardWrapper}:hover & img {
    transform: scale(1.05);
  }
`;

interface CardContentProps {
  $variant: 'default' | 'featured' | 'compact';
}

export const CardContent = styled.div<CardContentProps>`
  ${flexColumn}
  gap: ${({ theme }) => theme.spacing[3]};
  padding: ${({ theme, $variant }) =>
    $variant === 'compact' ? theme.spacing[4] : theme.spacing[6]};
  flex: 1;
`;

interface CardTitleProps {
  $variant: 'default' | 'featured' | 'compact';
}

export const CardTitle = styled.h3<CardTitleProps>`
  font-size: ${({ theme, $variant }) =>
    $variant === 'compact' ? theme.fontSizes.md : theme.fontSizes.xl};
  font-weight: ${({ theme }) => theme.fontWeights.semibold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.snug};
`;

export const CardDescription = styled.p`
  color: ${({ theme }) => theme.colors.mediumGray};
  font-size: ${({ theme }) => theme.fontSizes.sm};
  line-height: ${({ theme }) => theme.lineHeights.relaxed};
`;

export const CardFooter = styled.div`
  padding: ${({ theme }) => theme.spacing[4]} ${({ theme }) => theme.spacing[6]};
  border-top: 1px solid rgba(255, 255, 255, 0.1);
`;
```

#### `src/components/Common/Card/Card.test.tsx`
```typescript
import React from 'react';
import { render, screen, fireEvent } from '@/__tests__/test-utils';
import Card from './index';

describe('Card', () => {
  it('should render card with title', () => {
    render(<Card title="Test Card" />);
    expect(screen.getByText('Test Card')).toBeInTheDocument();
  });

  it('should render description when provided', () => {
    render(<Card title="Test" description="Test description" />);
    expect(screen.getByText('Test description')).toBeInTheDocument();
  });

  it('should render image when provided', () => {
    render(<Card title="Test" image="/test.jpg" imageAlt="Test image" />);
    expect(screen.getByAlt('Test image')).toBeInTheDocument();
  });

  it('should render as link when href provided', () => {
    render(<Card title="Test" href="/test" />);
    const card = screen.getByTestId('card');
    expect(card).toHaveAttribute('href', '/test');
  });

  it('should handle click when onClick provided', () => {
    const handleClick = jest.fn();
    render(<Card title="Test" onClick={handleClick} />);
    fireEvent.click(screen.getByTestId('card'));
    expect(handleClick).toHaveBeenCalled();
  });

  it('should render footer when provided', () => {
    render(<Card title="Test" footer={<span>Footer content</span>} />);
    expect(screen.getByText('Footer content')).toBeInTheDocument();
  });

  it('should render children', () => {
    render(
      <Card title="Test">
        <span>Child content</span>
      </Card>
    );
    expect(screen.getByText('Child content')).toBeInTheDocument();
  });
});
```

### 3. Section Component

#### `src/components/Common/Section/index.tsx`
```typescript
'use client';

import React from 'react';
import { motion } from 'framer-motion';
import { fadeInUpVariant } from '@/styles';
import { SectionWrapper, SectionContainer, SectionHeader, SectionTitle, SectionSubtitle, SectionContent } from './styles';

export interface SectionProps {
  children: React.ReactNode;
  id?: string;
  title?: string;
  subtitle?: string;
  background?: 'default' | 'alt' | 'dark';
  padding?: 'sm' | 'md' | 'lg' | 'xl';
  centered?: boolean;
  fullWidth?: boolean;
  className?: string;
}

const Section: React.FC<SectionProps> = ({
  children,
  id,
  title,
  subtitle,
  background = 'default',
  padding = 'lg',
  centered = false,
  fullWidth = false,
  className,
}) => {
  return (
    <SectionWrapper
      id={id}
      $background={background}
      $padding={padding}
      className={className}
      data-testid="section"
    >
      <SectionContainer $fullWidth={fullWidth}>
        {(title || subtitle) && (
          <SectionHeader
            as={motion.div}
            variants={fadeInUpVariant}
            initial="hidden"
            whileInView="visible"
            viewport={{ once: true, margin: '-100px' }}
            $centered={centered}
          >
            {title && <SectionTitle>{title}</SectionTitle>}
            {subtitle && <SectionSubtitle>{subtitle}</SectionSubtitle>}
          </SectionHeader>
        )}
        <SectionContent $centered={centered}>{children}</SectionContent>
      </SectionContainer>
    </SectionWrapper>
  );
};

export default Section;
```

#### `src/components/Common/Section/styles.ts`
```typescript
import styled, { css } from 'styled-components';
import { containerStyles, flexColumn } from '@/styles';

interface SectionWrapperProps {
  $background: 'default' | 'alt' | 'dark';
  $padding: 'sm' | 'md' | 'lg' | 'xl';
}

const paddingStyles = {
  sm: css`
    padding: ${({ theme }) => theme.spacing[8]} 0;
  `,
  md: css`
    padding: ${({ theme }) => theme.spacing[12]} 0;
  `,
  lg: css`
    padding: ${({ theme }) => theme.spacing[16]} 0;

    @media (min-width: ${({ theme }) => theme.breakpoints.md}) {
      padding: ${({ theme }) => theme.spacing[20]} 0;
    }
  `,
  xl: css`
    padding: ${({ theme }) => theme.spacing[20]} 0;

    @media (min-width: ${({ theme }) => theme.breakpoints.md}) {
      padding: ${({ theme }) => theme.spacing[24]} 0;
    }
  `,
};

const backgroundStyles = {
  default: css`
    background-color: ${({ theme }) => theme.colors.background};
  `,
  alt: css`
    background-color: ${({ theme }) => theme.colors.backgroundAlt};
  `,
  dark: css`
    background-color: ${({ theme }) => theme.colors.backgroundLight};
  `,
};

export const SectionWrapper = styled.section<SectionWrapperProps>`
  ${({ $padding }) => paddingStyles[$padding]}
  ${({ $background }) => backgroundStyles[$background]}
`;

interface SectionContainerProps {
  $fullWidth: boolean;
}

export const SectionContainer = styled.div<SectionContainerProps>`
  ${({ $fullWidth }) => !$fullWidth && containerStyles}
`;

interface SectionHeaderProps {
  $centered: boolean;
}

export const SectionHeader = styled.div<SectionHeaderProps>`
  ${flexColumn}
  gap: ${({ theme }) => theme.spacing[4]};
  margin-bottom: ${({ theme }) => theme.spacing[12]};

  ${({ $centered }) =>
    $centered &&
    css`
      text-align: center;
      align-items: center;
    `}
`;

export const SectionTitle = styled.h2`
  font-size: clamp(
    ${({ theme }) => theme.fontSizes['2xl']},
    5vw,
    ${({ theme }) => theme.fontSizes['4xl']}
  );
  font-weight: ${({ theme }) => theme.fontWeights.bold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.tight};
`;

export const SectionSubtitle = styled.p`
  font-size: ${({ theme }) => theme.fontSizes.lg};
  color: ${({ theme }) => theme.colors.mediumGray};
  max-width: 600px;
  line-height: ${({ theme }) => theme.lineHeights.relaxed};
`;

interface SectionContentProps {
  $centered: boolean;
}

export const SectionContent = styled.div<SectionContentProps>`
  ${({ $centered }) =>
    $centered &&
    css`
      display: flex;
      flex-direction: column;
      align-items: center;
    `}
`;
```

#### `src/components/Common/Section/Section.test.tsx`
```typescript
import React from 'react';
import { render, screen } from '@/__tests__/test-utils';
import Section from './index';

describe('Section', () => {
  it('should render section with children', () => {
    render(
      <Section>
        <div>Section content</div>
      </Section>
    );
    expect(screen.getByText('Section content')).toBeInTheDocument();
  });

  it('should render title when provided', () => {
    render(<Section title="Section Title">Content</Section>);
    expect(screen.getByText('Section Title')).toBeInTheDocument();
  });

  it('should render subtitle when provided', () => {
    render(<Section subtitle="Section subtitle">Content</Section>);
    expect(screen.getByText('Section subtitle')).toBeInTheDocument();
  });

  it('should apply id when provided', () => {
    render(<Section id="test-section">Content</Section>);
    expect(screen.getByTestId('section')).toHaveAttribute('id', 'test-section');
  });

  it('should apply custom className', () => {
    render(<Section className="custom-class">Content</Section>);
    expect(screen.getByTestId('section')).toHaveClass('custom-class');
  });
});
```

### 4. Typography Components

#### `src/components/Common/Typography/index.tsx`
```typescript
'use client';

import React from 'react';
import {
  Heading1,
  Heading2,
  Heading3,
  Heading4,
  Paragraph,
  Lead,
  Small,
  Highlight,
} from './styles';

export interface HeadingProps {
  children: React.ReactNode;
  as?: 'h1' | 'h2' | 'h3' | 'h4' | 'h5' | 'h6';
  className?: string;
}

export interface TextProps {
  children: React.ReactNode;
  className?: string;
}

export const H1: React.FC<HeadingProps> = ({ children, className }) => (
  <Heading1 className={className} data-testid="h1">{children}</Heading1>
);

export const H2: React.FC<HeadingProps> = ({ children, className }) => (
  <Heading2 className={className} data-testid="h2">{children}</Heading2>
);

export const H3: React.FC<HeadingProps> = ({ children, className }) => (
  <Heading3 className={className} data-testid="h3">{children}</Heading3>
);

export const H4: React.FC<HeadingProps> = ({ children, className }) => (
  <Heading4 className={className} data-testid="h4">{children}</Heading4>
);

export const Text: React.FC<TextProps> = ({ children, className }) => (
  <Paragraph className={className} data-testid="text">{children}</Paragraph>
);

export const LeadText: React.FC<TextProps> = ({ children, className }) => (
  <Lead className={className} data-testid="lead">{children}</Lead>
);

export const SmallText: React.FC<TextProps> = ({ children, className }) => (
  <Small className={className} data-testid="small">{children}</Small>
);

export const HighlightText: React.FC<TextProps> = ({ children, className }) => (
  <Highlight className={className} data-testid="highlight">{children}</Highlight>
);
```

#### `src/components/Common/Typography/styles.ts`
```typescript
import styled from 'styled-components';

export const Heading1 = styled.h1`
  font-size: clamp(
    ${({ theme }) => theme.fontSizes['3xl']},
    8vw,
    ${({ theme }) => theme.fontSizes['6xl']}
  );
  font-weight: ${({ theme }) => theme.fontWeights.bold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.tight};
  letter-spacing: -0.02em;
`;

export const Heading2 = styled.h2`
  font-size: clamp(
    ${({ theme }) => theme.fontSizes['2xl']},
    5vw,
    ${({ theme }) => theme.fontSizes['4xl']}
  );
  font-weight: ${({ theme }) => theme.fontWeights.bold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.tight};
`;

export const Heading3 = styled.h3`
  font-size: clamp(
    ${({ theme }) => theme.fontSizes.xl},
    4vw,
    ${({ theme }) => theme.fontSizes['2xl']}
  );
  font-weight: ${({ theme }) => theme.fontWeights.semibold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.snug};
`;

export const Heading4 = styled.h4`
  font-size: ${({ theme }) => theme.fontSizes.lg};
  font-weight: ${({ theme }) => theme.fontWeights.semibold};
  color: ${({ theme }) => theme.colors.white};
  line-height: ${({ theme }) => theme.lineHeights.snug};
`;

export const Paragraph = styled.p`
  font-size: ${({ theme }) => theme.fontSizes.base};
  color: ${({ theme }) => theme.colors.lightGray};
  line-height: ${({ theme }) => theme.lineHeights.relaxed};
`;

export const Lead = styled.p`
  font-size: ${({ theme }) => theme.fontSizes.lg};
  color: ${({ theme }) => theme.colors.lightGray};
  line-height: ${({ theme }) => theme.lineHeights.relaxed};

  @media (min-width: ${({ theme }) => theme.breakpoints.md}) {
    font-size: ${({ theme }) => theme.fontSizes.xl};
  }
`;

export const Small = styled.span`
  font-size: ${({ theme }) => theme.fontSizes.sm};
  color: ${({ theme }) => theme.colors.mediumGray};
`;

export const Highlight = styled.span`
  color: ${({ theme }) => theme.colors.primary};
  font-weight: ${({ theme }) => theme.fontWeights.semibold};
`;
```

#### `src/components/Common/Typography/Typography.test.tsx`
```typescript
import React from 'react';
import { render, screen } from '@/__tests__/test-utils';
import { H1, H2, H3, H4, Text, LeadText, SmallText, HighlightText } from './index';

describe('Typography', () => {
  it('should render H1', () => {
    render(<H1>Heading 1</H1>);
    expect(screen.getByTestId('h1')).toHaveTextContent('Heading 1');
  });

  it('should render H2', () => {
    render(<H2>Heading 2</H2>);
    expect(screen.getByTestId('h2')).toHaveTextContent('Heading 2');
  });

  it('should render H3', () => {
    render(<H3>Heading 3</H3>);
    expect(screen.getByTestId('h3')).toHaveTextContent('Heading 3');
  });

  it('should render H4', () => {
    render(<H4>Heading 4</H4>);
    expect(screen.getByTestId('h4')).toHaveTextContent('Heading 4');
  });

  it('should render Text', () => {
    render(<Text>Paragraph text</Text>);
    expect(screen.getByTestId('text')).toHaveTextContent('Paragraph text');
  });

  it('should render LeadText', () => {
    render(<LeadText>Lead text</LeadText>);
    expect(screen.getByTestId('lead')).toHaveTextContent('Lead text');
  });

  it('should render SmallText', () => {
    render(<SmallText>Small text</SmallText>);
    expect(screen.getByTestId('small')).toHaveTextContent('Small text');
  });

  it('should render HighlightText', () => {
    render(<HighlightText>Highlighted</HighlightText>);
    expect(screen.getByTestId('highlight')).toHaveTextContent('Highlighted');
  });

  it('should apply custom className', () => {
    render(<H1 className="custom">Heading</H1>);
    expect(screen.getByTestId('h1')).toHaveClass('custom');
  });
});
```

### 5. Badge & Tag Components

#### `src/components/Common/Badge/index.tsx`
```typescript
'use client';

import React from 'react';
import { StyledBadge } from './styles';

export interface BadgeProps {
  children: React.ReactNode;
  variant?: 'default' | 'success' | 'warning' | 'error' | 'info';
  size?: 'sm' | 'md';
}

const Badge: React.FC<BadgeProps> = ({
  children,
  variant = 'default',
  size = 'md',
}) => (
  <StyledBadge $variant={variant} $size={size} data-testid="badge">
    {children}
  </StyledBadge>
);

export default Badge;
```

#### `src/components/Common/Badge/styles.ts`
```typescript
import styled, { css } from 'styled-components';

interface StyledBadgeProps {
  $variant: 'default' | 'success' | 'warning' | 'error' | 'info';
  $size: 'sm' | 'md';
}

const variantStyles = {
  default: css`
    background-color: ${({ theme }) => theme.colors.primary};
    color: ${({ theme }) => theme.colors.background};
  `,
  success: css`
    background-color: ${({ theme }) => theme.colors.success};
    color: white;
  `,
  warning: css`
    background-color: ${({ theme }) => theme.colors.warning};
    color: ${({ theme }) => theme.colors.background};
  `,
  error: css`
    background-color: ${({ theme }) => theme.colors.error};
    color: white;
  `,
  info: css`
    background-color: ${({ theme }) => theme.colors.info};
    color: white;
  `,
};

const sizeStyles = {
  sm: css`
    padding: ${({ theme }) => `${theme.spacing[1]} ${theme.spacing[2]}`};
    font-size: ${({ theme }) => theme.fontSizes.xs};
  `,
  md: css`
    padding: ${({ theme }) => `${theme.spacing[1]} ${theme.spacing[3]}`};
    font-size: ${({ theme }) => theme.fontSizes.sm};
  `,
};

export const StyledBadge = styled.span<StyledBadgeProps>`
  display: inline-flex;
  align-items: center;
  font-weight: ${({ theme }) => theme.fontWeights.medium};
  border-radius: ${({ theme }) => theme.borderRadius.full};
  text-transform: uppercase;
  letter-spacing: 0.05em;

  ${({ $variant }) => variantStyles[$variant]}
  ${({ $size }) => sizeStyles[$size]}
`;
```

#### `src/components/Common/Tag/index.tsx`
```typescript
'use client';

import React from 'react';
import { StyledTag, TagRemoveButton } from './styles';

export interface TagProps {
  children: React.ReactNode;
  onRemove?: () => void;
  variant?: 'default' | 'outline';
}

const Tag: React.FC<TagProps> = ({
  children,
  onRemove,
  variant = 'default',
}) => (
  <StyledTag $variant={variant} data-testid="tag">
    {children}
    {onRemove && (
      <TagRemoveButton onClick={onRemove} aria-label="Remove tag">
        ×
      </TagRemoveButton>
    )}
  </StyledTag>
);

export default Tag;
```

#### `src/components/Common/Tag/styles.ts`
```typescript
import styled, { css } from 'styled-components';

interface StyledTagProps {
  $variant: 'default' | 'outline';
}

export const StyledTag = styled.span<StyledTagProps>`
  display: inline-flex;
  align-items: center;
  gap: ${({ theme }) => theme.spacing[1]};
  padding: ${({ theme }) => `${theme.spacing[1]} ${theme.spacing[3]}`};
  font-size: ${({ theme }) => theme.fontSizes.sm};
  font-weight: ${({ theme }) => theme.fontWeights.medium};
  border-radius: ${({ theme }) => theme.borderRadius.md};
  transition: all ${({ theme }) => theme.transitions.fast};

  ${({ $variant }) =>
    $variant === 'default'
      ? css`
          background-color: rgba(236, 255, 136, 0.1);
          color: ${({ theme }) => theme.colors.primary};
        `
      : css`
          background-color: transparent;
          border: 1px solid ${({ theme }) => theme.colors.darkGray};
          color: ${({ theme }) => theme.colors.lightGray};
        `}
`;

export const TagRemoveButton = styled.button`
  display: flex;
  align-items: center;
  justify-content: center;
  width: 16px;
  height: 16px;
  padding: 0;
  margin-left: ${({ theme }) => theme.spacing[1]};
  background: none;
  border: none;
  color: inherit;
  font-size: 14px;
  cursor: pointer;
  opacity: 0.7;
  transition: opacity ${({ theme }) => theme.transitions.fast};

  &:hover {
    opacity: 1;
  }
`;
```

### 6. Barrel Export

#### `src/components/Common/index.ts`
```typescript
// Button
export { default as Button } from './Button';
export type { ButtonProps } from './Button';

// Card
export { default as Card } from './Card';
export type { CardProps } from './Card';

// Section
export { default as Section } from './Section';
export type { SectionProps } from './Section';

// Typography
export { H1, H2, H3, H4, Text, LeadText, SmallText, HighlightText } from './Typography';

// Badge
export { default as Badge } from './Badge';
export type { BadgeProps } from './Badge';

// Tag
export { default as Tag } from './Tag';
export type { TagProps } from './Tag';
```

---

## Acceptance Criteria

- [ ] All components render correctly
- [ ] Button handles all variants, sizes, states
- [ ] Card works with/without images, links
- [ ] Section handles all backgrounds, padding options
- [ ] Typography components render proper styles
- [ ] Badge and Tag display correctly
- [ ] All components are accessible
- [ ] All tests pass
- [ ] `npm run lint` passes
- [ ] `npm run build` succeeds

---

## On Completion

1. Update `EXECUTION.md`: Mark T006 as `completed`
2. Update `SHARED_NOTES.md` with component usage examples
3. Commit: `git commit -m "T006: Add shared UI component library"`
